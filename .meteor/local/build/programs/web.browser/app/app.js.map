{"version":3,"sources":["meteor://ðŸ’»app/client/components/search/template/template.addSearchOption.js","meteor://ðŸ’»app/client/components/search/template/template.search.js","meteor://ðŸ’»app/client/components/search/template/template.searchField.js","meteor://ðŸ’»app/client/components/search/js/addSearchOption.js","meteor://ðŸ’»app/client/components/search/js/search.js","meteor://ðŸ’»app/client/components/search/js/searchField.js","meteor://ðŸ’»app/client/templates/html/template.invoice.js","meteor://ðŸ’»app/client/templates/html/template.invoices.js","meteor://ðŸ’»app/client/templates/js/invoices.js","meteor://ðŸ’»app/lib/functions.js","meteor://ðŸ’»app/lib/invoiceCollection.js","meteor://ðŸ’»app/lib/router.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0H;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0H;;;;;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0H;;;;;;;;;;;AC1DA,mBAAmB,iBAAnB,EACE;AACE,UAAQ;AACN;sCAA2B;AACzB,UAAE,gBAAF,EAAoB,MAApB,GADyB;;;;OADrB;GAAR;CAFJ,sH;;;;;;;;;;;ACAA,EAAE,MAAF,EAAU,EAAV,CAAa,SAAb,EAAwB,UAAS,KAAT,EAAgB;AACtC,MAAG,MAAM,OAAN,KAAkB,EAAlB,IAAwB,MAAM,OAAN,EAAe;AACxC,UAAM,cAAN,GADwC;AAExC,MAAE,gBAAF,EAAoB,OAApB,CAA4B,qBAA5B,EAFwC;GAA1C;CADsB,CAAxB;;AAOA,IAAI,qBAAqB,SAArB,kBAAqB,GAAW;AAClC,IAAE,kBAAF,EAAsB,IAAtB,CAA2B,OAA3B,EAAoC,KAApC,GAA4C,KAA5C,GADkC;CAAX;;AAIzB,mBAAmB,iBAAnB,EACE;AACE,SAAO;AACL,kBAAc,EAAd;GADF;AAGA,UAAQ;AACN;qCAA4B,GAAG;AAC7B,YAAM,OAAO,KAAK,IAAL,CAAU,iBAAV,CAA4B,EAAE,aAAF,CAAgB,IAAhB,CAAnC,CADuB;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","file":"/app.js","sourcesContent":["\nTemplate.__checkName(\"addSearchOption\");\nTemplate[\"addSearchOption\"] = new Template(\"Template.addSearchOption\", (function() {\n  var view = this;\n  return [ HTML.Raw('<button class=\"addSearchOption\" value=\"Add Search Option\">Add Search Option</button>\\n    '), HTML.DIV({\n    \"class\": \"searchOptions\",\n    style: \"display: none\"\n  }, \"\\n        \", HTML.Raw(\"<h2>Add search option by</h2>\"), \"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"searchAllowedData\"));\n  }, function() {\n    return [ \"\\n            \", HTML.BUTTON({\n      \"class\": \"btn\",\n      name: function() {\n        return Spacebars.mustache(view.lookup(\"@index\"));\n      }\n    }, Blaze.View(\"lookup:name\", function() {\n      return Spacebars.mustache(view.lookup(\"name\"));\n    })), \"\\n        \" ];\n  }), \"\\n    \") ];\n}));\n","\nTemplate.__checkName(\"searchBoxCustom\");\nTemplate[\"searchBoxCustom\"] = new Template(\"Template.searchBoxCustom\", (function() {\n  var view = this;\n  return [ HTML.DIV({\n    \"class\": \"searchBoxCustom\"\n  }, \"\\n        \", HTML.FORM(\"\\n            \", Blaze.Each(function() {\n    return {\n      _sequence: Spacebars.call(view.lookup(\"getSelectedSearchOptions\")),\n      _variable: \"data\"\n    };\n  }, function() {\n    return [ \"\\n            \", HTML.DIV({\n      \"class\": \"form-group\"\n    }, \"\\n                \", Blaze._TemplateWith(function() {\n      return {\n        data: Spacebars.call(view.lookup(\"data\")),\n        index: Spacebars.call(view.lookup(\"@index\"))\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"searchField\"));\n    }), \"\\n            \"), \"\\n        \" ];\n  }), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.DIV({\n    \"class\": \"addSearchOptions\"\n  }, \"\\n        \", Blaze._TemplateWith(function() {\n    return {\n      searchAllowedData: Spacebars.call(view.lookup(\"searchAllowedData\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"addSearchOption\"));\n  }), \"\\n    \") ];\n}));\n","\nTemplate.__checkName(\"searchField\");\nTemplate[\"searchField\"] = new Template(\"Template.searchField\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"input-group\"\n  }, \"\\n        \", Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"isFieldType\"), \"text\", Spacebars.dot(view.lookup(\"data\"), \"type\"));\n  }, function() {\n    return [ \"\\n            \", HTML.INPUT({\n      type: \"text\",\n      \"class\": \"form-control\",\n      placeholder: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"placeholder\"));\n      },\n      name: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"name\"));\n      }\n    }), \"\\n        \" ];\n  }), \"\\n        \", Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"isFieldType\"), \"number\", Spacebars.dot(view.lookup(\"data\"), \"type\"));\n  }, function() {\n    return [ \"\\n            \", HTML.INPUT({\n      type: \"number\",\n      \"class\": \"form-control\",\n      step: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"step\"));\n      },\n      placeholder: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"placeholder\"));\n      },\n      name: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"name\"));\n      }\n    }), \"\\n        \" ];\n  }), \"\\n        \", Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"isFieldType\"), \"date\", Spacebars.dot(view.lookup(\"data\"), \"type\"));\n  }, function() {\n    return [ \"\\n            \", HTML.INPUT({\n      type: \"text\",\n      \"class\": \"datepicker form-control\",\n      placeholder: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"placeholder\"));\n      },\n      name: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"name\"));\n      }\n    }), \"\\n        \" ];\n  }), \"\\n            \", HTML.SPAN({\n    \"class\": \"input-group-btn\"\n  }, \"\\n        \", HTML.BUTTON({\n    \"class\": \"btn btn-secondary\",\n    type: \"button\",\n    name: function() {\n      return Spacebars.mustache(view.lookup(\"index\"));\n    }\n  }, \"\\n            \", HTML.Raw('<span class=\"glyphicon glyphicon glyphicon-remove\"></span>'), \"\\n        \"), \"\\n      \"), \"\\n        \");\n}));\n","TemplateController('addSearchOption',\r\n  {\r\n    events: {\r\n      'click .addSearchOption'() {\r\n        $('.searchOptions').toggle();\r\n      }\r\n    }\r\n  }\r\n);","$(window).on('keydown', function(event) {\r\n  if(event.keyCode === 70 && event.ctrlKey) {\r\n    event.preventDefault();\r\n    $('.searchOptions').trigger('defaultSearchOption');\r\n  }\r\n});\r\n\r\nlet setFirstInputFocus = function() {\r\n  $('.searchBoxCustom').find('input').first().focus();\r\n};\r\n\r\nTemplateController('searchBoxCustom',\r\n  {\r\n    state: {\r\n      searchConfig: []\r\n    },\r\n    events: {\r\n      'click .searchOptions .btn'(e) {\r\n        const data = this.data.searchAllowedData[e.currentTarget.name];\r\n        const config = this.state.searchConfig();\r\n        config.push(data);\r\n        this.state.searchConfig(config);\r\n        Meteor.setTimeout(setFirstInputFocus, 100);\r\n      },\r\n      'click .addSearchOption'() {\r\n        $('#searchOptions').toggle();\r\n      },\r\n      'removeSearchOption'(event, tpl, index) {\r\n        const config = this.state.searchConfig();\r\n        if(undefined !== config[index]) {\r\n          config.splice(index, 1);\r\n        }\r\n        this.state.searchConfig(config);\r\n        Meteor.setTimeout(setFirstInputFocus, 100);\r\n      },\r\n      'defaultSearchOption .searchOptions'(){\r\n        const data = this.data.searchAllowedData[0];\r\n        const config = this.state.searchConfig();\r\n        config.push(data);\r\n        this.state.searchConfig(config);\r\n        Meteor.setTimeout(setFirstInputFocus, 100);\r\n      },\r\n      'keydown .searchBoxCustom input'(e){\r\n        if(e.keyCode === 13){\r\n          let filter = [];\r\n          $('.searchBoxCustom').find('input').each(function(){\r\n            filter.push({name: this.name, value: this.value, type: this.type});\r\n          });\r\n          //dirty solution for now\r\n          this.$(this.firstNode).trigger(this.data.eventName, {filter: filter});\r\n        }\r\n      },\r\n      'submit form'(event){\r\n        event.preventDefault();\r\n      }\r\n    },\r\n    helpers: {\r\n      getSelectedSearchOptions() {\r\n        return this.state.searchConfig();\r\n      }\r\n    }\r\n  }\r\n);","TemplateController('searchField',\r\n  {\r\n    helpers: {\r\n      isFieldType(type, dataType) {\r\n        return type === dataType;\r\n      }\r\n    },\r\n    events: {\r\n      'click .btn'(e) {\r\n        this.triggerEvent('removeSearchOption', e.currentTarget.name);\r\n      }\r\n    }\r\n  });\r\n\r\nTemplate.searchField.onRendered(()=>{\r\n\r\n  $( \".datepicker\" ).datepicker({\r\n    format: \"yyyy/mm/dd\",\r\n    autoclose: true,\r\n    multidate: true,\r\n    multidateSeparator: \",\",\r\n    calendarWeeks: true\r\n  });\r\n});\r\n","\nTemplate.__checkName(\"invoiceTemplate\");\nTemplate[\"invoiceTemplate\"] = new Template(\"Template.invoiceTemplate\", (function() {\n  var view = this;\n  return HTML.TR(\"\\n        \", HTML.TD(Blaze.View(\"lookup:invoiceNr\", function() {\n    return Spacebars.mustache(view.lookup(\"invoiceNr\"));\n  })), \"\\n        \", HTML.TD(Blaze.View(\"lookup:total\", function() {\n    return Spacebars.mustache(view.lookup(\"total\"));\n  })), \"\\n        \", HTML.TD(Blaze.View(\"lookup:formatDate\", function() {\n    return Spacebars.mustache(view.lookup(\"formatDate\"), view.lookup(\"createdAt\"));\n  })), \"\\n    \");\n}));\n","\nTemplate.__checkName(\"invoicesTemplate\");\nTemplate[\"invoicesTemplate\"] = new Template(\"Template.invoicesTemplate\", (function() {\n  var view = this;\n  return [ HTML.Raw('<div class=\"container\">\\n        <h1>Invoices</h1>\\n    </div>\\n    <button type=\"button\" name=\"today\" class=\"btn btn-filter today btn-default\">Today</button>\\n    <button type=\"button\" name=\"week\" class=\"btn btn-filter week btn-default\">Week</button>\\n    <button type=\"button\" name=\"month\" class=\"btn btn-filter month btn-default\">Month</button>\\n    <button type=\"button\" name=\"all\" class=\"btn btn-filter all btn-default\">All</button>\\n    <button type=\"button\" class=\"btn generate btn-info\">GENERATE</button>\\n    <button type=\"button\" class=\"btn resetQuery btn-warning\">Reset Filters</button>\\n    '), Blaze._TemplateWith(function() {\n    return {\n      searchAllowedData: Spacebars.call(view.lookup(\"searchAllowedData\")),\n      eventName: Spacebars.call(\"parseSearchFilter\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"searchBoxCustom\"));\n  }), \"\\n    \", HTML.TABLE({\n    \"class\": \"table table-striped\"\n  }, \"\\n        \", HTML.THEAD(\"\\n        \", HTML.TR(\"\\n            \", HTML.TH({\n    \"class\": \"sort\",\n    name: \"sortInvoiceNr\"\n  }, \"Invoice Nr.\", HTML.SPAN({\n    \"class\": function() {\n      return [ \"glyphicon glyphicon-chevron-\", Spacebars.mustache(view.lookup(\"direction\"), Spacebars.dot(view.lookup(\"queryParams\"), \"sortInvoiceNr\")) ];\n    }\n  })), \"\\n            \", HTML.TH({\n    \"class\": \"sort\",\n    name: \"sortTotal\"\n  }, \"total\", HTML.SPAN({\n    \"class\": function() {\n      return [ \"glyphicon glyphicon-chevron-\", Spacebars.mustache(view.lookup(\"direction\"), Spacebars.dot(view.lookup(\"queryParams\"), \"sortTotal\")) ];\n    }\n  })), \"\\n            \", HTML.TH({\n    \"class\": \"sort\",\n    name: \"sortCreatedAt\"\n  }, \"createdAt\", HTML.SPAN({\n    \"class\": function() {\n      return [ \"glyphicon glyphicon-chevron-\", Spacebars.mustache(view.lookup(\"direction\"), Spacebars.dot(view.lookup(\"queryParams\"), \"sortCreatedAt\")) ];\n    }\n  })), \"\\n        \"), \"\\n        \"), \"\\n        \", HTML.TBODY(\"\\n            \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"invoiceData\"));\n  }, function() {\n    return [ \"\\n                \", Spacebars.include(view.lookupTemplate(\"invoiceTemplate\")), \"\\n            \" ];\n  }), \"\\n        \"), \"\\n    \") ];\n}));\n","Router.setRoute('invoices');\r\n\r\nTemplateController('invoicesTemplate', {\r\n  helpers:{\r\n    invoiceData(){\r\n      var react = Router.reactvar.get();\r\n      return invoices.byTimeRange(Router.getParams().type, Router.getQueryParams());\r\n    },\r\n    direction(params){\r\n      if (params === undefined)\r\n        return '';\r\n      else if (params === 'ASC')\r\n        return 'up';\r\n      else\r\n        return 'down';\r\n\r\n    },\r\n    searchAllowedData() {\r\n      return [\r\n        {\r\n          name: 'invoiceNr',\r\n          type: 'number',\r\n          step: 1,\r\n          placeholder: 'Invoice Number'\r\n        },{\r\n          name: 'total',\r\n          type: 'number',\r\n          step: 1,\r\n          placeholder: 'Total'\r\n        },{\r\n          name: 'date',\r\n          type: 'date',\r\n          placeholder: 'Select or type a date'\r\n        },{\r\n          name: 'email',\r\n          type: 'text',\r\n          placeholder: 'Email address'\r\n        }\r\n      ];\r\n    }\r\n  },\r\n  events: {\r\n    'click .btn-filter'(e) {\r\n      Router.go({type: e.currentTarget.name});\r\n    },\r\n    'click .generate'() {\r\n      Meteor.call('generateInvoices');\r\n    },\r\n    'click .sort'(e) {\r\n      Router.go('', e.currentTarget.name);\r\n    },\r\n    'click .resetQuery'() {\r\n      Router.resetQuery();\r\n    },\r\n    'parseSearchFilter'(e, tpl, args) {\r\n      args.filter.forEach(function(v){\r\n        Router.addQueryParam('filter'+v.name, v.value);\r\n      });\r\n      Router.go('');\r\n    }\r\n  }\r\n});\r\n\r\nTemplate.registerHelper('formatDate', function (date) {\r\n  return moment(date).format('DD-MM-YYYY');\r\n});","String.prototype.firstToType = function(type = 'lower') {\r\n    switch(type) {\r\n        case 'lower':\r\n            return this.charAt(0).toLowerCase() + this.slice(1);\r\n        break;\r\n        case 'upper':\r\n            return this.charAt(0).toUpperCase() + this.slice(1);\r\n        break;\r\n    }\r\n};\r\n\r\nisEmpty = function(obj) {\r\n    return Object.getOwnPropertyNames(obj).length === 0;\r\n};","invoices = new Mongo.Collection(\"invoices\");\r\ninvoices.limit_results_by = 50;\r\ninvoices.limit_increase_by = 50;\r\ninvoices.byTimeRange = function(timeRange = \"today\", queryParams) {\r\n  let limit = invoices.limit_results_by;\r\n\r\n  if (queryParams !== undefined && queryParams.hasOwnProperty('limit')) {\r\n    limit = parseInt(queryParams.limit);\r\n    delete queryParams['limit'];\r\n  }\r\n\r\n  queryParams = (isEmpty(queryParams)) ? {sortCreatedAt: \"DESC\", sortTotal: \"ASC\"} : queryParams;\r\n\r\n  console.log(queryParams);\r\n  const sort = {};\r\n  const filter = {};\r\n  for (let k in queryParams) {\r\n    console.log('k', k);\r\n    if(k.indexOf('sort') > -1) {\r\n      sort[k.replace('sort', '').firstToType('lower')] = (queryParams[k] === 'DESC') ? -1 : 1;\r\n    } else if(k.indexOf('filter') > -1) {\r\n      if(!isNaN(parseInt(queryParams[k])) && queryParams[k] !== \"\") {\r\n        filter[k.replace('filter', '').firstToType('lower')] = (isNaN(parseInt(queryParams[k])))?queryParams[k]:parseInt(queryParams[k]);\r\n      }\r\n    }\r\n  }\r\n\r\n  const getTimeRange = function(timeRange) {\r\n    const today = new Date();\r\n    const timeRanges = {\r\n      today(){\r\n        today.setSeconds(0);\r\n        today.setMinutes(0);\r\n        today.setHours(0);\r\n        return today;\r\n      },\r\n      week(){\r\n        return new Date(today.getFullYear(), today.getMonth(), today.getDate() - 7);\r\n      },\r\n      month(){\r\n        return new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());\r\n      },\r\n      all(){\r\n        return false;\r\n      }\r\n    };\r\n\r\n    if(timeRanges[timeRange]) {\r\n      return timeRanges[timeRange]();\r\n    } else {\r\n      return timeRanges['today']();\r\n    }\r\n  };\r\n\r\n  const selectedDate = getTimeRange(timeRange);\r\n\r\n\r\n  if(selectedDate !== false) filter.createdAt = { '$gte': selectedDate };\r\n  console.log(filter);\r\n  return invoices.find(filter, {sort: sort});\r\n};\r\n\r\n/*\r\nTODO implement this\r\n\r\ninvoices.createFilter = function(params){\r\n  let fn;\r\n  const typeCaster = function(type, variable) {\r\n    const types = {\r\n      text(v) {\r\n        return v;\r\n      },\r\n      number(v) {\r\n        return parseInt(v);\r\n      },\r\n      date(v) {\r\n        return new Date(v);\r\n      }\r\n    };\r\n    if(types[type]) {\r\n      return types[type](variable);\r\n    } else {\r\n      return types['text'](variable);\r\n    }\r\n  };\r\n  let filter = {};\r\n  params.forEach(function(param){\r\n    filter[param.name] = typeCaster(params.type, params,value);\r\n  });\r\n\r\n  console.log(filter);\r\n};\r\n  */","FlowRouter.route(\"/:type\", {\r\n    name: \"invoices\",\r\n    subscriptions: function(params, queryParams) {\r\n            this.register(\"invoiceCollection\", Meteor.subscribe(\"invoiceCollection\", params.type, queryParams));\r\n    },\r\n    action: function(params, queryParams) {\r\n        BlazeLayout.render(\"invoicesTemplate\");\r\n    }\r\n});\r\nFlowRouter.route(\"/\", {\r\n    action: function(params, queryParams) {\r\n        Router.go({type: 'all'});\r\n    }\r\n});\r\n\r\nRouter = {\r\n    route: '',\r\n    reactvar: new ReactiveVar(0),\r\n    setRoute: function(routeName) {\r\n        this.route = routeName;\r\n    },\r\n\r\n    resetQuery: function() {\r\n        FlowRouter.go(FlowRouter.path(this.route, FlowRouter.current().params));\r\n    },\r\n\r\n    go: function(routeParams, queryParamName = '') {\r\n\r\n        const currentQueryParams = FlowRouter.current().queryParams;\r\n        \r\n        if(routeParams === '')\r\n            routeParams = FlowRouter.current().params;\r\n\r\n        if(currentQueryParams.hasOwnProperty(queryParamName)) {\r\n            currentQueryParams[queryParamName] = (currentQueryParams[queryParamName] == 'ASC')?'DESC':'ASC'\r\n        } else if(queryParamName !== '')\r\n        {\r\n            currentQueryParams[queryParamName] = 'ASC';\r\n        }\r\n\r\n        this.reactvar.set((this.reactvar.get() === 1?0:1));\r\n        if(!isEmpty(currentQueryParams)) {\r\n            FlowRouter.go(FlowRouter.path(this.route, routeParams, currentQueryParams));\r\n        } else {\r\n            FlowRouter.go(FlowRouter.path(this.route, routeParams));\r\n        }\r\n    },\r\n\r\n    getParams: function() {\r\n        return FlowRouter.current().params;\r\n    },\r\n\r\n    getQueryParams: function() {\r\n        return (FlowRouter.current().queryParams === undefined)?{}:FlowRouter.current().queryParams;\r\n    },\r\n    addQueryParam: function(name, value) {\r\n\r\n        const params = FlowRouter.current().queryParams;\r\n        params[name] = value;\r\n\r\n        FlowRouter.setQueryParams(params);\r\n    }\r\n};"]}