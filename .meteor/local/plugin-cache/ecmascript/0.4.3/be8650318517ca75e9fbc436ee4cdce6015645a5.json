{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/components/search/js/search.js","filenameRelative":"/client/components/search/js/search.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/components/search/js/search.js.map","sourceFileName":"/client/components/search/js/search.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"search"},"ignored":false,"code":"$(window).on('keydown', function (event) {\n  if (event.keyCode === 70 && event.ctrlKey) {\n    event.preventDefault();\n    $('.searchOptions').trigger('defaultSearchOption');\n  }\n});\n\nvar setFirstInputFocus = function setFirstInputFocus() {\n  $('.searchBoxCustom').find('input').first().focus();\n};\n\nTemplateController('searchBoxCustom', {\n  state: {\n    searchConfig: []\n  },\n  events: {\n    'click .searchOptions .btn': function () {\n      function clickSearchOptionsBtn(e) {\n        console.log('test');\n        var data = this.data.searchAllowedData[e.currentTarget.name];\n        var config = this.state.searchConfig();\n        config.push(data);\n        this.state.searchConfig(config);\n        Meteor.setTimeout(setFirstInputFocus, 100);\n      }\n\n      return clickSearchOptionsBtn;\n    }(),\n    'click #addSearchOption': function () {\n      function clickAddSearchOption() {\n        $('#searchOptions').toggle();\n      }\n\n      return clickAddSearchOption;\n    }(),\n    'removeSearchOption': function () {\n      function removeSearchOption(event, tpl, index) {\n        var config = this.state.searchConfig();\n        console.log(config, index, undefined !== config[index]);\n        if (undefined !== config[index]) {\n          config.splice(index, 1);\n        }\n        this.state.searchConfig(config);\n        Meteor.setTimeout(setFirstInputFocus, 100);\n      }\n\n      return removeSearchOption;\n    }(),\n    'defaultSearchOption #searchOptions': function () {\n      function defaultSearchOptionSearchOptions() {\n        var data = this.data.searchAllowedData[0];\n        var config = this.state.searchConfig();\n        config.push(data);\n        this.state.searchConfig(config);\n        Meteor.setTimeout(setFirstInputFocus, 100);\n      }\n\n      return defaultSearchOptionSearchOptions;\n    }(),\n    'keydown #searchBoxCustom input': function () {\n      function keydownSearchBoxCustomInput(e) {\n        var _this = this;\n\n        if (e.keyCode === 13) {\n          (function () {\n            var filter = [];\n            $('#searchBoxCustom').find('input').each(function () {\n              filter.push({ name: this.name, value: this.value, type: this.type });\n            });\n            //dirty solution for now\n            _this.$(_this.firstNode).trigger(_this.data.eventName, { filter: filter });\n          })();\n        }\n      }\n\n      return keydownSearchBoxCustomInput;\n    }(),\n    'submit form': function () {\n      function submitForm(event) {\n        event.preventDefault();\n      }\n\n      return submitForm;\n    }()\n  },\n  helpers: {\n    getSelectedSearchOptions: function () {\n      function getSelectedSearchOptions() {\n        return this.state.searchConfig();\n      }\n\n      return getSelectedSearchOptions;\n    }()\n  }\n});","ast":null,"map":{"version":3,"sources":["/client/components/search/js/search.js"],"names":[],"mappings":"AAAA,EAAE,MAAF,EAAU,EAAV,CAAa,SAAb,EAAwB,UAAS,KAAT,EAAgB;AACtC,MAAG,MAAM,OAAN,KAAkB,EAAlB,IAAwB,MAAM,OAAN,EAAe;AACxC,UAAM,cAAN,GADwC;AAExC,MAAE,gBAAF,EAAoB,OAApB,CAA4B,qBAA5B,EAFwC;GAA1C;CADsB,CAAxB;;AAOA,IAAI,qBAAqB,SAArB,kBAAqB,GAAW;AAClC,IAAE,kBAAF,EAAsB,IAAtB,CAA2B,OAA3B,EAAoC,KAApC,GAA4C,KAA5C,GADkC;CAAX;;AAIzB,mBAAmB,iBAAnB,EACE;AACE,SAAO;AACL,kBAAc,EAAd;GADF;AAGA,UAAQ;AACN;qCAA4B,GAAG;AAC7B,gBAAQ,GAAR,CAAY,MAAZ,EAD6B;AAE7B,YAAM,OAAO,KAAK,IAAL,CAAU,iBAAV,CAA4B,EAAE,aAAF,CAAgB,IAAhB,CAAnC,CAFuB;AAG7B,YAAM,SAAS,KAAK,KAAL,CAAW,YAAX,EAAT,CAHuB;AAI7B,eAAO,IAAP,CAAY,IAAZ,EAJ6B;AAK7B,aAAK,KAAL,CAAW,YAAX,CAAwB,MAAxB,EAL6B;AAM7B,eAAO,UAAP,CAAkB,kBAAlB,EAAsC,GAAtC,EAN6B;;;;OADzB;AASN;sCAA2B;AACzB,UAAE,gBAAF,EAAoB,MAApB,GADyB;;;;OATrB;AAYN;kCAAqB,OAAO,KAAK,OAAO;AACtC,YAAM,SAAS,KAAK,KAAL,CAAW,YAAX,EAAT,CADgC;AAEtC,gBAAQ,GAAR,CAAY,MAAZ,EAAoB,KAApB,EAA2B,cAAc,OAAO,KAAP,CAAd,CAA3B,CAFsC;AAGtC,YAAG,cAAc,OAAO,KAAP,CAAd,EAA6B;AAC9B,iBAAO,MAAP,CAAc,KAAd,EAAqB,CAArB,EAD8B;SAAhC;AAGA,aAAK,KAAL,CAAW,YAAX,CAAwB,MAAxB,EANsC;AAOtC,eAAO,UAAP,CAAkB,kBAAlB,EAAsC,GAAtC,EAPsC;;;;OAZlC;AAqBN;kDAAsC;AACpC,YAAM,OAAO,KAAK,IAAL,CAAU,iBAAV,CAA4B,CAA5B,CAAP,CAD8B;AAEpC,YAAM,SAAS,KAAK,KAAL,CAAW,YAAX,EAAT,CAF8B;AAGpC,eAAO,IAAP,CAAY,IAAZ,EAHoC;AAIpC,aAAK,KAAL,CAAW,YAAX,CAAwB,MAAxB,EAJoC;AAKpC,eAAO,UAAP,CAAkB,kBAAlB,EAAsC,GAAtC,EALoC;;;;OArBhC;AA4BN;2CAAiC,GAAE;;;AACjC,YAAG,EAAE,OAAF,KAAc,EAAd,EAAiB;;AAClB,gBAAI,SAAS,EAAT;AACJ,cAAE,kBAAF,EAAsB,IAAtB,CAA2B,OAA3B,EAAoC,IAApC,CAAyC,YAAU;AACjD,qBAAO,IAAP,CAAY,EAAC,MAAM,KAAK,IAAL,EAAW,OAAO,KAAK,KAAL,EAAY,MAAM,KAAK,IAAL,EAAvD,EADiD;aAAV,CAAzC;;AAIA,kBAAK,CAAL,CAAO,MAAK,SAAL,CAAP,CAAuB,OAAvB,CAA+B,MAAK,IAAL,CAAU,SAAV,EAAqB,EAAC,QAAQ,MAAR,EAArD;eANkB;SAApB;;;;OA7BI;AAsCN;0BAAc,OAAM;AAClB,cAAM,cAAN,GADkB;;;;OAtCd;GAAR;AA0CA,WAAS;AACP;0CAA2B;AACzB,eAAO,KAAK,KAAL,CAAW,YAAX,EAAP,CADyB;;;;OADpB;GAAT;CA/CJ","file":"/client/components/search/js/search.js.map","sourcesContent":["$(window).on('keydown', function(event) {\r\n  if(event.keyCode === 70 && event.ctrlKey) {\r\n    event.preventDefault();\r\n    $('.searchOptions').trigger('defaultSearchOption');\r\n  }\r\n});\r\n\r\nlet setFirstInputFocus = function() {\r\n  $('.searchBoxCustom').find('input').first().focus();\r\n};\r\n\r\nTemplateController('searchBoxCustom',\r\n  {\r\n    state: {\r\n      searchConfig: []\r\n    },\r\n    events: {\r\n      'click .searchOptions .btn'(e) {\r\n        console.log('test');\r\n        const data = this.data.searchAllowedData[e.currentTarget.name];\r\n        const config = this.state.searchConfig();\r\n        config.push(data);\r\n        this.state.searchConfig(config);\r\n        Meteor.setTimeout(setFirstInputFocus, 100);\r\n      },\r\n      'click #addSearchOption'() {\r\n        $('#searchOptions').toggle();\r\n      },\r\n      'removeSearchOption'(event, tpl, index) {\r\n        const config = this.state.searchConfig();\r\n        console.log(config, index, undefined !== config[index]);\r\n        if(undefined !== config[index]) {\r\n          config.splice(index, 1);\r\n        }\r\n        this.state.searchConfig(config);\r\n        Meteor.setTimeout(setFirstInputFocus, 100);\r\n      },\r\n      'defaultSearchOption #searchOptions'(){\r\n        const data = this.data.searchAllowedData[0];\r\n        const config = this.state.searchConfig();\r\n        config.push(data);\r\n        this.state.searchConfig(config);\r\n        Meteor.setTimeout(setFirstInputFocus, 100);\r\n      },\r\n      'keydown #searchBoxCustom input'(e){\r\n        if(e.keyCode === 13){\r\n          let filter = [];\r\n          $('#searchBoxCustom').find('input').each(function(){\r\n            filter.push({name: this.name, value: this.value, type: this.type});\r\n          });\r\n          //dirty solution for now\r\n          this.$(this.firstNode).trigger(this.data.eventName, {filter: filter});\r\n        }\r\n      },\r\n      'submit form'(event){\r\n        event.preventDefault();\r\n      }\r\n    },\r\n    helpers: {\r\n      getSelectedSearchOptions() {\r\n        return this.state.searchConfig();\r\n      }\r\n    }\r\n  }\r\n);"]},"hash":"be8650318517ca75e9fbc436ee4cdce6015645a5"}
